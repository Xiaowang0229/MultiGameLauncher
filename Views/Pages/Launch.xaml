<Page x:Class="MultiGameLauncher.Views.Pages.Launch"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:MultiGameLauncher.Views.Pages"
      xmlns:ui="http://metro.mahapps.com/winfx/xaml/controls" xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
      xmlns:pi="http://schemas.modernwpf.com/2019"
      mc:Ignorable="d" 

      Title="Launch" Width="1200" Height="675" Loaded="Page_Loaded">

    <Grid>
        <Grid.Resources>
            <!-- 自定义 TabItem 样式 -->
            <Style TargetType="TabItem">
                <Setter Property="Padding" Value="0"/>
                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="TabItem">
                            
                            <Rectangle RadiusX="10" 
                               RadiusY="10" 
                               Width="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=ActualWidth}"
                               Height="20"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Fill="{TemplateBinding Background}" 
                               ToolTip="{TemplateBinding Header}"/>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>

                <Style.Triggers>
                    <!-- 选中时：背景为主题色，宽度变为50 -->
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="{DynamicResource MahApps.Brushes.Accent}" />
                        <Setter Property="Width" Value="50"/>
                    </Trigger>

                    <!-- 未选中时：背景为灰色，宽度恢复默认（或设一个值） -->
                    <Trigger Property="IsSelected" Value="False">
                        <Setter Property="Background" Value="Gray" />
                        <Setter Property="Width" Value="20"/>
                        <!-- 或者不设置，让它自动 -->
                    </Trigger>
                </Style.Triggers>
            </Style>
        </Grid.Resources>
        <Image HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
        <ui:MetroTabControl Margin="0,0,0,650" VerticalAlignment="Center" HorizontalAlignment="Center">
            <TabItem Header="Tab 1">
            </TabItem>
            <TabItem Header="Tab 2">
            </TabItem>
        </ui:MetroTabControl>
        <Grid>
            <StackPanel Background="{DynamicResource MahApps.Brushes.Accent}" Orientation="Horizontal" HorizontalAlignment="Right" Width="1200" Margin="0,580,0,0" >
                <Border Margin="10,10,10,10"
                        Height="64"
                        Width="64"
                        BorderBrush="Black" 
                        BorderThickness="3"  
                        CornerRadius="0"
                        ClipToBounds="True" Background="White"
                        >
                    <Image Width="64" Height="64" x:Name="UserHead" />
                </Border>
                
                <Label x:Name="Welcome" FontSize="22" Content="你好，用户！" VerticalAlignment="Center" FontWeight="Bold"/>
            </StackPanel>





            <Label HorizontalAlignment="Left" Margin="40,40,0,0"  Content="主标题" VerticalAlignment="Top" FontSize="60" FontWeight="Bold"/>
            <Label HorizontalAlignment="Left" Margin="40,124,0,0"  Content="副标题" VerticalAlignment="Top" FontSize="22"/>
            <ui:Tile Title="终止进程" ui:ControlsHelper.MouseOverBorderBrush="{DynamicResource MahApps.Brushes.ThemeForeground}" Background="#FFC83E3E" HorizontalTitleAlignment="Right" Height="95" Width="250" Margin="950,580,0,0" Click="Stop_Click" Visibility="Hidden">
                <iconPacks:PackIconModern Width="40" Height="40" Kind="Stop" />
            </ui:Tile>
            <ui:Tile x:Name="LaunchTile" Title="启动游戏" ui:ControlsHelper.MouseOverBorderBrush="{DynamicResource MahApps.Brushes.ThemeForeground}" Background="Green" HorizontalTitleAlignment="Right" Height="95" Width="250" Margin="950,580,0,0" Click="LaunchTile_Click">
                <StackPanel>
                    <iconPacks:PackIconModern Width="40" Height="40" Kind="ControlPlay" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="当前游戏："/>
                </StackPanel>
            </ui:Tile>
            
            <StackPanel Orientation="Horizontal" Margin="0,280,298,95"  x:Name="sp_ani">
                <StackPanel Margin="5,0,0,0">

                    <StackPanel  Orientation="Horizontal" Tag="ani" Margin="0,0,0,0">
                        <ui:Tile x:Name="SettingsTile" Title="设置"
                            Margin="3,3,0,0"
                            ui:ControlsHelper.MouseOverBorderBrush="{DynamicResource MahApps.Brushes.ThemeForeground}"
                            Background="{DynamicResource MahApps.Brushes.DataGrid.Selection.BorderBrush}"
                            HorizontalTitleAlignment="Right" Click="SettingsTile_Click">
                            <iconPacks:PackIconModern Width="40"
                                Height="40"
                                Kind="Settings" />
                        </ui:Tile>
                        <ui:Tile x:Name="UserTile" Title="用户"
                            Margin="10,3,3,0"
                            ui:ControlsHelper.MouseOverBorderBrush="{DynamicResource MahApps.Brushes.ThemeForeground}"
                            Background="{DynamicResource MahApps.Brushes.SystemControlRevealFocusVisual}"
                            HorizontalTitleAlignment="Right" Click="UserTile_Click">
                            <iconPacks:PackIconModern Width="40"
                                Height="40"
                                Kind="User" />
                        </ui:Tile>
                    </StackPanel>
                    <StackPanel Margin="0,10,0,0" Tag="ani">
                        <ui:Tile x:Name="AboutTile" Title="关于"
                            Margin="3,0,3,3"
                            ui:ControlsHelper.MouseOverBorderBrush="{DynamicResource MahApps.Brushes.ThemeForeground}"
                            Background="{DynamicResource MahApps.Brushes.AccentBase}"
                            HorizontalTitleAlignment="Right" Width="290" Click="AboutTile_Click">
                            <iconPacks:PackIconModern Width="40"
                                Height="40"
                                Kind="InformationCircle" />
                        </ui:Tile>
                    </StackPanel>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="5,0,0,0">
                    <StackPanel Tag="ani" Margin="0,0,5,0">
                        <ui:Tile x:Name="ManageTile" Title="游戏管理"
                            ui:ControlsHelper.MouseOverBorderBrush="{DynamicResource MahApps.Brushes.ThemeForeground}"
                            Background="{DynamicResource MahApps.Brushes.CheckmarkFill}"
                            HorizontalTitleAlignment="Right" Height="290" Width="290" Click="ManageTile_Click">
                            <iconPacks:PackIconModern Width="80"
                                Height="80"
                                Kind="ListAdd" />
                        </ui:Tile>
                    </StackPanel>
                    <StackPanel Tag="ani">
                        <ui:Tile x:Name="UpdateTile" Title="更新"
                            Margin="3"
                            ui:ControlsHelper.MouseOverBorderBrush="{DynamicResource MahApps.Brushes.ThemeForeground}"
                            Background="{DynamicResource MahApps.Brushes.Highlight}"
                            HorizontalTitleAlignment="Right" Height="290" Width="290" Click="UpdateTile_Click">
                            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Height="209" Width="230">
                                <TextBlock Text="版本日志：" FontSize="20" FontWeight="Bold"/>
                                <TextBlock/>
                            </StackPanel>
                        </ui:Tile>
                    </StackPanel>
                    
                    
                    
                </StackPanel>

            </StackPanel>
            <!--bar-->
        </Grid>
    </Grid>
</Page>
